# Global excludes to prevent warnings for files that don't need formatting
excludes = [
  # AI rule files
  ".windsurfrules",
  ".cursorrules",
  
  # Git files
  ".gitignore",
  
  # Lock files
  "**/flake.lock",
  "flake.lock",
  
  # Package files
  "modules/packages/ollama/disable-git.patch",
  "modules/packages/ollama/skip-rocm-cp.patch",
  "modules/packages/postgis-reset/hooks.json",
  
  # Config files
  "modules/services/postgresql/pg_hba.conf",
  "modules/services/postgresql/postgresql.conf",
  "users/regular/.ssh/config_external",
  
  # Config files
  "**/treefmt.toml",
  "treefmt.toml"
]

[formatter.nix]
command = "nixfmt"
includes = ["*.nix"]

[formatter.prettier]
command = "prettier"
options = ["--write"]
includes = ["*.html", "*.css", "*.js", "*.json", "*.yaml", "*.yml"]

[formatter.markdownlint]
command = "markdownlint"
options = ["--fix"]
includes = ["*.md"]

[formatter.ruff-format]
command = "ruff"
options = ["format"]
includes = ["*.py"]

[formatter.ruff-check]
command = "ruff"
options = ["check", "--fix"]
includes = ["*.py"]

[formatter.shellcheck]
command = "shellcheck"
options = ["-x", "-e", "SC1091,SC2029"]
includes = ["*.sh"]

[formatter.basedpyright]
command = "./scripts/treefmt-basedpyright.sh"
includes = ["scripts/themectl/**/*.py"]
